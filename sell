-- [[ ULTIMATE ECONOMY MANAGER ]]
local player = game.Players.LocalPlayer
local networkEvent = game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("NetworkFramework"):WaitForChild("NetworkEvent")
local coreGui = game:GetService("CoreGui")
local userInput = game:GetService("UserInputService")

-- Danh sách toàn bộ Item từ ảnh của bạn
local allItems = {
    -- Common & Uncommon
    "Bacon", "Sigma Boy", "Orb Blue", "Orb Red", "Orb Yellow", "Money", "Tissue", "Skibidi Sigma", "Orb Black",
    -- Rare
    "Curse Diary", "Rot Banana", "Garbage bags", "Glass tube", "Bone Fragments", "Red Stone", "Bandage", 
    "Orb Purple", "Orb White", "Orb Sand", "Clown Mask", "Cookie", "Skull Mask", "Rust Blade",
    -- Legendary
    "Super Shampoo", "Lollipop", "Banana Stem", "Green Cells", "Magic Evolution", "Naruto Manga", "Banana", 
    "Orb Snow", "Goku Manga", "Cursed Banana", "Iron Magic", "Book Witch", "Carrot", "Orb Magic", "Pipe Car", 
    "Ice Cream", "Scrap Iron", "Book Heaven", "Crowbar", "Cat", "Scarf", "Train ticket", "Rock", "Orb Dragon", "Cursed Womb",
    -- Secret
    "Straw Hat", "Cyber Militech", "Chair", "Finger Sukuna", "Orb Atomic", "Cursed Egg", "Shadow Diary", "Hat Megumin",
    "Engine", "Tablet", "Orb Evolution", "Orb Broken", "Shadow Manga", "Lighter",
    -- Event
    "Orb Quincy", "Squid Card", "Black Glasses", "Shoe", "Cyber Chip", "Rubber Band", "Sheath", "Magic Book",
    "Stick", "Orb Flame", "Star Black", "Spirit Curse", "Shiny String", "Orb Shadow", "Seaweed", "Antler", "Potion Slime"
}

local toggles = {}
for _, item in pairs(allItems) do toggles[item] = false end

-- Giao diện chính
local ScreenGui = Instance.new("ScreenGui", coreGui)
local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 250, 0, 350)
Main.Position = UDim2.new(0.5, -125, 0.5, -175)
Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Main.Active = true
Main.Draggable = true
Instance.new("UICorner", Main)

-- Nút ẩn/hiện nhanh (Phím L)
local isGuiVisible = true
userInput.InputBegan:Connect(function(input, chat)
    if chat then return end
    if input.KeyCode == Enum.KeyCode.L then
        isGuiVisible = not isGuiVisible
        Main.Visible = isGuiVisible
    end
end)

-- Thanh tìm kiếm
local SearchBox = Instance.new("TextBox", Main)
SearchBox.Size = UDim2.new(0.9, 0, 0, 30)
SearchBox.Position = UDim2.new(0.05, 0, 0.05, 0)
SearchBox.PlaceholderText = "Search Item..."
SearchBox.Text = ""
SearchBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
SearchBox.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", SearchBox)

-- Vùng cuộn chứa nút
local Scroll = Instance.new("ScrollingFrame", Main)
Scroll.Size = UDim2.new(0.9, 0, 0.75, 0)
Scroll.Position = UDim2.new(0.05, 0, 0.18, 0)
Scroll.BackgroundTransparency = 1
Scroll.CanvasSize = UDim2.new(0, 0, 0, #allItems * 35)
local Layout = Instance.new("UIListLayout", Scroll)
Layout.Padding = UDim.new(0, 5)

-- Hàm tạo nút
local buttons = {}
for _, itemName in pairs(allItems) do
    local Btn = Instance.new("TextButton", Scroll)
    Btn.Size = UDim2.new(1, -10, 0, 30)
    Btn.Text = itemName .. ": OFF"
    Btn.BackgroundColor3 = Color3.fromRGB(150, 50, 50)
    Btn.TextColor3 = Color3.new(1, 1, 1)
    Instance.new("UICorner", Btn)
    buttons[itemName] = Btn

    Btn.MouseButton1Click:Connect(function()
        toggles[itemName] = not toggles[itemName]
        Btn.Text = itemName .. ": " .. (toggles[itemName] and "ON" or "OFF")
        Btn.BackgroundColor3 = toggles[itemName] and Color3.fromRGB(50, 150, 50) or Color3.fromRGB(150, 50, 50)
    end)
end

-- Logic tìm kiếm
SearchBox:GetPropertyChangedSignal("Text"):Connect(function()
    local query = SearchBox.Text:lower()
    for name, btn in pairs(buttons) do
        btn.Visible = name:lower():find(query) ~= nil
    end
end)

-- Vòng lặp bán đồ
task.spawn(function()
    while true do
        for itemName, enabled in pairs(toggles) do
            if enabled then
                networkEvent:FireServer("fire", nil, "economy", itemName, 1)
            end
        end
        task.wait(0.3)
    end
end)

print("Legend: Phím 'L' để Ẩn/Hiện Menu. Chúc bạn farm vui vẻ!")
